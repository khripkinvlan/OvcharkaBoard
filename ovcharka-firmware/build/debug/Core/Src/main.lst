ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/main.c"
  18              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
  19              		.align	1
  20              		.global	HAL_TIM_PeriodElapsedCallback
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	HAL_TIM_PeriodElapsedCallback:
  26              	.LVL0:
  27              	.LFB67:
   1:Core/Src/main.c **** /* USER CODE BEGIN Header */
   2:Core/Src/main.c **** /**
   3:Core/Src/main.c ****   ******************************************************************************
   4:Core/Src/main.c ****   * @file           : main.c
   5:Core/Src/main.c ****   * @brief          : Main program body
   6:Core/Src/main.c ****   ******************************************************************************
   7:Core/Src/main.c ****   * @attention
   8:Core/Src/main.c ****   *
   9:Core/Src/main.c ****   * Copyright (c) 2025 STMicroelectronics.
  10:Core/Src/main.c ****   * All rights reserved.
  11:Core/Src/main.c ****   *
  12:Core/Src/main.c ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/main.c ****   * in the root directory of this software component.
  14:Core/Src/main.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/main.c ****   *
  16:Core/Src/main.c ****   ******************************************************************************
  17:Core/Src/main.c ****   */
  18:Core/Src/main.c **** /* USER CODE END Header */
  19:Core/Src/main.c **** /* Includes ------------------------------------------------------------------*/
  20:Core/Src/main.c **** #include "main.h"
  21:Core/Src/main.c **** #include "adc.h"
  22:Core/Src/main.c **** #include "dma.h"
  23:Core/Src/main.c **** #include "rtc.h"
  24:Core/Src/main.c **** #include "spi.h"
  25:Core/Src/main.c **** #include "tim.h"
  26:Core/Src/main.c **** #include "usart.h"
  27:Core/Src/main.c **** #include "gpio.h"
  28:Core/Src/main.c **** 
  29:Core/Src/main.c **** /* Private includes ----------------------------------------------------------*/
  30:Core/Src/main.c **** /* USER CODE BEGIN Includes */
  31:Core/Src/main.c **** #include "drv8106.h"
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 2


  32:Core/Src/main.c **** 
  33:Core/Src/main.c **** /* USER CODE END Includes */
  34:Core/Src/main.c **** 
  35:Core/Src/main.c **** /* Private typedef -----------------------------------------------------------*/
  36:Core/Src/main.c **** /* USER CODE BEGIN PTD */
  37:Core/Src/main.c **** 
  38:Core/Src/main.c **** /* USER CODE END PTD */
  39:Core/Src/main.c **** 
  40:Core/Src/main.c **** /* Private define ------------------------------------------------------------*/
  41:Core/Src/main.c **** /* USER CODE BEGIN PD */
  42:Core/Src/main.c **** 
  43:Core/Src/main.c **** /* USER CODE END PD */
  44:Core/Src/main.c **** 
  45:Core/Src/main.c **** /* Private macro -------------------------------------------------------------*/
  46:Core/Src/main.c **** /* USER CODE BEGIN PM */
  47:Core/Src/main.c **** 
  48:Core/Src/main.c **** /* USER CODE END PM */
  49:Core/Src/main.c **** 
  50:Core/Src/main.c **** /* Private variables ---------------------------------------------------------*/
  51:Core/Src/main.c **** 
  52:Core/Src/main.c **** /* USER CODE BEGIN PV */
  53:Core/Src/main.c **** volatile uint16_t adc[2];
  54:Core/Src/main.c **** int16_t CS_ADC_M1_Offset = 1990;
  55:Core/Src/main.c **** int16_t CS_ADC_M2_Offset = 1990;
  56:Core/Src/main.c **** float CS_ADC_M1_Gain = 0.00107;
  57:Core/Src/main.c **** float CS_ADC_M2_Gain = 0.00107;
  58:Core/Src/main.c **** float current[2];
  59:Core/Src/main.c **** 
  60:Core/Src/main.c **** uint16_t duty1, duty2, dir1, dir2;
  61:Core/Src/main.c **** 
  62:Core/Src/main.c **** uint8_t fault1, fault2, fault3, fault4;
  63:Core/Src/main.c **** 
  64:Core/Src/main.c **** drv8106_spi drv1 = {&hspi1, SPI1_SS1_GPIO_Port, SPI1_SS1_Pin, 0};
  65:Core/Src/main.c **** drv8106_spi drv2 = {&hspi1, SPI1_SS2_GPIO_Port, SPI1_SS2_Pin, 0};
  66:Core/Src/main.c **** drv8106_spi drv3 = {&hspi1, SPI1_SS3_GPIO_Port, SPI1_SS3_Pin, 0};
  67:Core/Src/main.c **** drv8106_spi drv4 = {&hspi1, SPI1_SS4_GPIO_Port, SPI1_SS4_Pin, 0};
  68:Core/Src/main.c **** 
  69:Core/Src/main.c **** /* USER CODE END PV */
  70:Core/Src/main.c **** 
  71:Core/Src/main.c **** /* Private function prototypes -----------------------------------------------*/
  72:Core/Src/main.c **** void SystemClock_Config(void);
  73:Core/Src/main.c **** /* USER CODE BEGIN PFP */
  74:Core/Src/main.c **** 
  75:Core/Src/main.c **** /* USER CODE END PFP */
  76:Core/Src/main.c **** 
  77:Core/Src/main.c **** /* Private user code ---------------------------------------------------------*/
  78:Core/Src/main.c **** /* USER CODE BEGIN 0 */
  79:Core/Src/main.c **** 
  80:Core/Src/main.c **** /* USER CODE END 0 */
  81:Core/Src/main.c **** 
  82:Core/Src/main.c **** /**
  83:Core/Src/main.c ****   * @brief  The application entry point.
  84:Core/Src/main.c ****   * @retval int
  85:Core/Src/main.c ****   */
  86:Core/Src/main.c **** int main(void)
  87:Core/Src/main.c **** {
  88:Core/Src/main.c **** 
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 3


  89:Core/Src/main.c ****   /* USER CODE BEGIN 1 */
  90:Core/Src/main.c **** 
  91:Core/Src/main.c ****   /* USER CODE END 1 */
  92:Core/Src/main.c **** 
  93:Core/Src/main.c ****   /* MCU Configuration--------------------------------------------------------*/
  94:Core/Src/main.c **** 
  95:Core/Src/main.c ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
  96:Core/Src/main.c ****   HAL_Init();
  97:Core/Src/main.c **** 
  98:Core/Src/main.c ****   /* USER CODE BEGIN Init */
  99:Core/Src/main.c **** 
 100:Core/Src/main.c ****   /* USER CODE END Init */
 101:Core/Src/main.c **** 
 102:Core/Src/main.c ****   /* Configure the system clock */
 103:Core/Src/main.c ****   SystemClock_Config();
 104:Core/Src/main.c **** 
 105:Core/Src/main.c ****   /* USER CODE BEGIN SysInit */
 106:Core/Src/main.c **** 
 107:Core/Src/main.c ****   /* USER CODE END SysInit */
 108:Core/Src/main.c **** 
 109:Core/Src/main.c ****   /* Initialize all configured peripherals */
 110:Core/Src/main.c ****   MX_GPIO_Init();
 111:Core/Src/main.c ****   MX_DMA_Init();
 112:Core/Src/main.c ****   MX_ADC1_Init();
 113:Core/Src/main.c ****   MX_SPI1_Init();
 114:Core/Src/main.c ****   MX_TIM1_Init();
 115:Core/Src/main.c ****   MX_TIM2_Init();
 116:Core/Src/main.c ****   MX_TIM3_Init();
 117:Core/Src/main.c ****   MX_TIM4_Init();
 118:Core/Src/main.c ****   MX_USART1_UART_Init();
 119:Core/Src/main.c ****   MX_RTC_Init();
 120:Core/Src/main.c ****   /* USER CODE BEGIN 2 */
 121:Core/Src/main.c **** 
 122:Core/Src/main.c ****   // Pull down all CS pins of drivers
 123:Core/Src/main.c **** 
 124:Core/Src/main.c ****   HAL_GPIO_WritePin(SPI1_SS1_GPIO_Port, SPI1_SS1_Pin, GPIO_PIN_SET);
 125:Core/Src/main.c ****   HAL_GPIO_WritePin(SPI1_SS2_GPIO_Port, SPI1_SS2_Pin, GPIO_PIN_SET);
 126:Core/Src/main.c ****   HAL_GPIO_WritePin(SPI1_SS3_GPIO_Port, SPI1_SS3_Pin, GPIO_PIN_SET);
 127:Core/Src/main.c ****   HAL_GPIO_WritePin(SPI1_SS4_GPIO_Port, SPI1_SS4_Pin, GPIO_PIN_SET);
 128:Core/Src/main.c **** 
 129:Core/Src/main.c ****   TIM3->CCR1 = 0;
 130:Core/Src/main.c ****   TIM3->CCR2 = 0;
 131:Core/Src/main.c ****   HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_1);
 132:Core/Src/main.c ****   HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_2);
 133:Core/Src/main.c ****   HAL_TIM_Base_Start_IT(&htim3);
 134:Core/Src/main.c **** 
 135:Core/Src/main.c ****   HAL_ADC_Start_DMA(&hadc1, (uint32_t *)&adc, 2);
 136:Core/Src/main.c ****   
 137:Core/Src/main.c ****   HAL_Delay(1);
 138:Core/Src/main.c ****   HAL_GPIO_WritePin(BRIDGESLEEP1_GPIO_Port, BRIDGESLEEP1_Pin, GPIO_PIN_SET);
 139:Core/Src/main.c ****   HAL_GPIO_WritePin(BRIDGESLEEP2_GPIO_Port, BRIDGESLEEP2_Pin, GPIO_PIN_SET);
 140:Core/Src/main.c ****   HAL_Delay(1);
 141:Core/Src/main.c ****   
 142:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv1, DRV8106_IC_CTRL, DRV8106_CLR_FLT);
 143:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv2, DRV8106_IC_CTRL, DRV8106_CLR_FLT);
 144:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv3, DRV8106_IC_CTRL, DRV8106_CLR_FLT);
 145:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv4, DRV8106_IC_CTRL, DRV8106_CLR_FLT);
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 4


 146:Core/Src/main.c **** 
 147:Core/Src/main.c ****   HAL_GPIO_WritePin(HIZ1_GPIO_Port, HIZ1_Pin, GPIO_PIN_SET);
 148:Core/Src/main.c ****   HAL_GPIO_WritePin(HIZ2_GPIO_Port, HIZ2_Pin, GPIO_PIN_SET);
 149:Core/Src/main.c **** 
 150:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv1, DRV8106_IC_CTRL, DRV8106_EN_DRV);
 151:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv2, DRV8106_IC_CTRL, DRV8106_EN_DRV);
 152:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv3, DRV8106_IC_CTRL, DRV8106_EN_DRV);
 153:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv4, DRV8106_IC_CTRL, DRV8106_EN_DRV);
 154:Core/Src/main.c **** 
 155:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv1, DRV8106_CSA_CTRL, DRV8106_CSA_SH_EN | DRV8106_CSA_GAIN_10);
 156:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv3, DRV8106_CSA_CTRL, DRV8106_CSA_SH_EN | DRV8106_CSA_GAIN_10);
 157:Core/Src/main.c **** 
 158:Core/Src/main.c ****   drv8106_read_all_blocking(&drv1);
 159:Core/Src/main.c ****   drv8106_read_all_blocking(&drv2);
 160:Core/Src/main.c ****   drv8106_read_all_blocking(&drv3);
 161:Core/Src/main.c ****   drv8106_read_all_blocking(&drv4);
 162:Core/Src/main.c **** 
 163:Core/Src/main.c ****   /* USER CODE END 2 */
 164:Core/Src/main.c **** 
 165:Core/Src/main.c ****   /* Infinite loop */
 166:Core/Src/main.c ****   /* USER CODE BEGIN WHILE */
 167:Core/Src/main.c ****   while (1)
 168:Core/Src/main.c ****   {
 169:Core/Src/main.c ****     /* USER CODE END WHILE */
 170:Core/Src/main.c **** 
 171:Core/Src/main.c ****     /* USER CODE BEGIN 3 */
 172:Core/Src/main.c ****   }
 173:Core/Src/main.c ****   /* USER CODE END 3 */
 174:Core/Src/main.c **** }
 175:Core/Src/main.c **** 
 176:Core/Src/main.c **** /**
 177:Core/Src/main.c ****   * @brief System Clock Configuration
 178:Core/Src/main.c ****   * @retval None
 179:Core/Src/main.c ****   */
 180:Core/Src/main.c **** void SystemClock_Config(void)
 181:Core/Src/main.c **** {
 182:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 183:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 184:Core/Src/main.c ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 185:Core/Src/main.c **** 
 186:Core/Src/main.c ****   /** Initializes the RCC Oscillators according to the specified parameters
 187:Core/Src/main.c ****   * in the RCC_OscInitTypeDef structure.
 188:Core/Src/main.c ****   */
 189:Core/Src/main.c ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_LSI|RCC_OSCILLATORTYPE_HSE;
 190:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 191:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 192:Core/Src/main.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 193:Core/Src/main.c ****   RCC_OscInitStruct.LSIState = RCC_LSI_ON;
 194:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 195:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 196:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 197:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 198:Core/Src/main.c ****   {
 199:Core/Src/main.c ****     Error_Handler();
 200:Core/Src/main.c ****   }
 201:Core/Src/main.c **** 
 202:Core/Src/main.c ****   /** Initializes the CPU, AHB and APB buses clocks
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 5


 203:Core/Src/main.c ****   */
 204:Core/Src/main.c ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 205:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 206:Core/Src/main.c ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 207:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 208:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 209:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 210:Core/Src/main.c **** 
 211:Core/Src/main.c ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
 212:Core/Src/main.c ****   {
 213:Core/Src/main.c ****     Error_Handler();
 214:Core/Src/main.c ****   }
 215:Core/Src/main.c ****   PeriphClkInit.PeriphClockSelection = RCC_PERIPHCLK_RTC|RCC_PERIPHCLK_ADC;
 216:Core/Src/main.c ****   PeriphClkInit.RTCClockSelection = RCC_RTCCLKSOURCE_LSI;
 217:Core/Src/main.c ****   PeriphClkInit.AdcClockSelection = RCC_ADCPCLK2_DIV6;
 218:Core/Src/main.c ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 219:Core/Src/main.c ****   {
 220:Core/Src/main.c ****     Error_Handler();
 221:Core/Src/main.c ****   }
 222:Core/Src/main.c **** }
 223:Core/Src/main.c **** 
 224:Core/Src/main.c **** /* USER CODE BEGIN 4 */
 225:Core/Src/main.c **** 
 226:Core/Src/main.c **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim)
 227:Core/Src/main.c **** {
  28              		.loc 1 227 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 227 1 is_stmt 0 view .LVU1
  33 0000 38B5     		push	{r3, r4, r5, lr}
  34              		.cfi_def_cfa_offset 16
  35              		.cfi_offset 3, -16
  36              		.cfi_offset 4, -12
  37              		.cfi_offset 5, -8
  38              		.cfi_offset 14, -4
 228:Core/Src/main.c ****   if(htim == &htim3){
  39              		.loc 1 228 3 is_stmt 1 view .LVU2
  40              		.loc 1 228 5 is_stmt 0 view .LVU3
  41 0002 224B     		ldr	r3, .L7
  42 0004 8342     		cmp	r3, r0
  43 0006 00D0     		beq	.L5
  44              	.LVL1:
  45              	.L1:
 229:Core/Src/main.c ****     static uint16_t cntr = 0;
 230:Core/Src/main.c ****     cntr++;
 231:Core/Src/main.c ****     if (cntr >= 3600){
 232:Core/Src/main.c ****       HAL_GPIO_TogglePin(IND_LED_GPIO_Port, IND_LED_Pin);
 233:Core/Src/main.c ****       cntr = 0;
 234:Core/Src/main.c ****     }
 235:Core/Src/main.c **** 
 236:Core/Src/main.c ****     fault1 = HAL_GPIO_ReadPin(nFAULT_L1_GPIO_Port, nFAULT_L1_Pin);
 237:Core/Src/main.c ****     fault2 = HAL_GPIO_ReadPin(nFAULT_R1_GPIO_Port, nFAULT_R1_Pin);
 238:Core/Src/main.c ****     fault3 = HAL_GPIO_ReadPin(nFAULT_L2_GPIO_Port, nFAULT_L2_Pin);
 239:Core/Src/main.c ****     fault4 = HAL_GPIO_ReadPin(nFAULT_R2_GPIO_Port, nFAULT_R2_Pin);
 240:Core/Src/main.c **** 
 241:Core/Src/main.c ****     TIM3->CCR1 = duty1;
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 6


 242:Core/Src/main.c ****     TIM3->CCR2 = duty2;
 243:Core/Src/main.c ****     HAL_GPIO_WritePin(DIR1_1_GPIO_Port, DIR1_1_Pin, dir1);   
 244:Core/Src/main.c ****     HAL_GPIO_WritePin(DIR2_1_GPIO_Port, DIR2_1_Pin, dir2);   
 245:Core/Src/main.c **** 
 246:Core/Src/main.c ****   }
 247:Core/Src/main.c ****   
 248:Core/Src/main.c **** }
  46              		.loc 1 248 1 view .LVU4
  47 0008 38BD     		pop	{r3, r4, r5, pc}
  48              	.LVL2:
  49              	.L5:
  50              	.LBB4:
 229:Core/Src/main.c ****     static uint16_t cntr = 0;
  51              		.loc 1 229 5 is_stmt 1 view .LVU5
 230:Core/Src/main.c ****     if (cntr >= 3600){
  52              		.loc 1 230 5 view .LVU6
 230:Core/Src/main.c ****     if (cntr >= 3600){
  53              		.loc 1 230 9 is_stmt 0 view .LVU7
  54 000a 214A     		ldr	r2, .L7+4
  55 000c 1388     		ldrh	r3, [r2]
  56 000e 0133     		adds	r3, r3, #1
  57 0010 9BB2     		uxth	r3, r3
  58 0012 1380     		strh	r3, [r2]	@ movhi
 231:Core/Src/main.c ****       HAL_GPIO_TogglePin(IND_LED_GPIO_Port, IND_LED_Pin);
  59              		.loc 1 231 5 is_stmt 1 view .LVU8
 231:Core/Src/main.c ****       HAL_GPIO_TogglePin(IND_LED_GPIO_Port, IND_LED_Pin);
  60              		.loc 1 231 8 is_stmt 0 view .LVU9
  61 0014 B3F5616F 		cmp	r3, #3600
  62 0018 2FD2     		bcs	.L6
  63              	.LVL3:
  64              	.L3:
 236:Core/Src/main.c ****     fault2 = HAL_GPIO_ReadPin(nFAULT_R1_GPIO_Port, nFAULT_R1_Pin);
  65              		.loc 1 236 5 is_stmt 1 view .LVU10
 236:Core/Src/main.c ****     fault2 = HAL_GPIO_ReadPin(nFAULT_R1_GPIO_Port, nFAULT_R1_Pin);
  66              		.loc 1 236 14 is_stmt 0 view .LVU11
  67 001a 1E4C     		ldr	r4, .L7+8
  68 001c 4FF40041 		mov	r1, #32768
  69 0020 2046     		mov	r0, r4
  70 0022 FFF7FEFF 		bl	HAL_GPIO_ReadPin
  71              	.LVL4:
 236:Core/Src/main.c ****     fault2 = HAL_GPIO_ReadPin(nFAULT_R1_GPIO_Port, nFAULT_R1_Pin);
  72              		.loc 1 236 12 discriminator 1 view .LVU12
  73 0026 1C4B     		ldr	r3, .L7+12
  74 0028 1870     		strb	r0, [r3]
 237:Core/Src/main.c ****     fault3 = HAL_GPIO_ReadPin(nFAULT_L2_GPIO_Port, nFAULT_L2_Pin);
  75              		.loc 1 237 5 is_stmt 1 view .LVU13
 237:Core/Src/main.c ****     fault3 = HAL_GPIO_ReadPin(nFAULT_L2_GPIO_Port, nFAULT_L2_Pin);
  76              		.loc 1 237 14 is_stmt 0 view .LVU14
  77 002a 4FF48041 		mov	r1, #16384
  78 002e 2046     		mov	r0, r4
  79 0030 FFF7FEFF 		bl	HAL_GPIO_ReadPin
  80              	.LVL5:
 237:Core/Src/main.c ****     fault3 = HAL_GPIO_ReadPin(nFAULT_L2_GPIO_Port, nFAULT_L2_Pin);
  81              		.loc 1 237 12 discriminator 1 view .LVU15
  82 0034 194B     		ldr	r3, .L7+16
  83 0036 1870     		strb	r0, [r3]
 238:Core/Src/main.c ****     fault4 = HAL_GPIO_ReadPin(nFAULT_R2_GPIO_Port, nFAULT_R2_Pin);
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 7


  84              		.loc 1 238 5 is_stmt 1 view .LVU16
 238:Core/Src/main.c ****     fault4 = HAL_GPIO_ReadPin(nFAULT_R2_GPIO_Port, nFAULT_R2_Pin);
  85              		.loc 1 238 14 is_stmt 0 view .LVU17
  86 0038 194D     		ldr	r5, .L7+20
  87 003a 0121     		movs	r1, #1
  88 003c 2846     		mov	r0, r5
  89 003e FFF7FEFF 		bl	HAL_GPIO_ReadPin
  90              	.LVL6:
 238:Core/Src/main.c ****     fault4 = HAL_GPIO_ReadPin(nFAULT_R2_GPIO_Port, nFAULT_R2_Pin);
  91              		.loc 1 238 12 discriminator 1 view .LVU18
  92 0042 184B     		ldr	r3, .L7+24
  93 0044 1870     		strb	r0, [r3]
 239:Core/Src/main.c **** 
  94              		.loc 1 239 5 is_stmt 1 view .LVU19
 239:Core/Src/main.c **** 
  95              		.loc 1 239 14 is_stmt 0 view .LVU20
  96 0046 0221     		movs	r1, #2
  97 0048 2846     		mov	r0, r5
  98 004a FFF7FEFF 		bl	HAL_GPIO_ReadPin
  99              	.LVL7:
 239:Core/Src/main.c **** 
 100              		.loc 1 239 12 discriminator 1 view .LVU21
 101 004e 164B     		ldr	r3, .L7+28
 102 0050 1870     		strb	r0, [r3]
 241:Core/Src/main.c ****     TIM3->CCR2 = duty2;
 103              		.loc 1 241 5 is_stmt 1 view .LVU22
 241:Core/Src/main.c ****     TIM3->CCR2 = duty2;
 104              		.loc 1 241 16 is_stmt 0 view .LVU23
 105 0052 164B     		ldr	r3, .L7+32
 106 0054 1A88     		ldrh	r2, [r3]
 107 0056 164B     		ldr	r3, .L7+36
 108 0058 5A63     		str	r2, [r3, #52]
 242:Core/Src/main.c ****     HAL_GPIO_WritePin(DIR1_1_GPIO_Port, DIR1_1_Pin, dir1);   
 109              		.loc 1 242 5 is_stmt 1 view .LVU24
 242:Core/Src/main.c ****     HAL_GPIO_WritePin(DIR1_1_GPIO_Port, DIR1_1_Pin, dir1);   
 110              		.loc 1 242 16 is_stmt 0 view .LVU25
 111 005a 164A     		ldr	r2, .L7+40
 112 005c 1288     		ldrh	r2, [r2]
 113 005e 9A63     		str	r2, [r3, #56]
 243:Core/Src/main.c ****     HAL_GPIO_WritePin(DIR2_1_GPIO_Port, DIR2_1_Pin, dir2);   
 114              		.loc 1 243 5 is_stmt 1 view .LVU26
 115 0060 154B     		ldr	r3, .L7+44
 116 0062 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 117 0064 0221     		movs	r1, #2
 118 0066 2046     		mov	r0, r4
 119 0068 FFF7FEFF 		bl	HAL_GPIO_WritePin
 120              	.LVL8:
 244:Core/Src/main.c **** 
 121              		.loc 1 244 5 view .LVU27
 122 006c 134B     		ldr	r3, .L7+48
 123 006e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 124 0070 0221     		movs	r1, #2
 125 0072 1348     		ldr	r0, .L7+52
 126 0074 FFF7FEFF 		bl	HAL_GPIO_WritePin
 127              	.LVL9:
 128              	.LBE4:
 129              		.loc 1 248 1 is_stmt 0 view .LVU28
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 8


 130 0078 C6E7     		b	.L1
 131              	.LVL10:
 132              	.L6:
 133              	.LBB5:
 232:Core/Src/main.c ****       cntr = 0;
 134              		.loc 1 232 7 is_stmt 1 view .LVU29
 135 007a 1021     		movs	r1, #16
 136 007c 0548     		ldr	r0, .L7+8
 137              	.LVL11:
 232:Core/Src/main.c ****       cntr = 0;
 138              		.loc 1 232 7 is_stmt 0 view .LVU30
 139 007e FFF7FEFF 		bl	HAL_GPIO_TogglePin
 140              	.LVL12:
 233:Core/Src/main.c ****     }
 141              		.loc 1 233 7 is_stmt 1 view .LVU31
 233:Core/Src/main.c ****     }
 142              		.loc 1 233 12 is_stmt 0 view .LVU32
 143 0082 034B     		ldr	r3, .L7+4
 144 0084 0022     		movs	r2, #0
 145 0086 1A80     		strh	r2, [r3]	@ movhi
 146 0088 C7E7     		b	.L3
 147              	.L8:
 148 008a 00BF     		.align	2
 149              	.L7:
 150 008c 00000000 		.word	htim3
 151 0090 00000000 		.word	cntr.0
 152 0094 000C0140 		.word	1073810432
 153 0098 00000000 		.word	fault1
 154 009c 00000000 		.word	fault2
 155 00a0 00100140 		.word	1073811456
 156 00a4 00000000 		.word	fault3
 157 00a8 00000000 		.word	fault4
 158 00ac 00000000 		.word	duty1
 159 00b0 00040040 		.word	1073742848
 160 00b4 00000000 		.word	duty2
 161 00b8 00000000 		.word	dir1
 162 00bc 00000000 		.word	dir2
 163 00c0 00080140 		.word	1073809408
 164              	.LBE5:
 165              		.cfi_endproc
 166              	.LFE67:
 168              		.global	__aeabi_i2f
 169              		.global	__aeabi_fmul
 170              		.section	.text.HAL_ADC_ConvCpltCallback,"ax",%progbits
 171              		.align	1
 172              		.global	HAL_ADC_ConvCpltCallback
 173              		.syntax unified
 174              		.thumb
 175              		.thumb_func
 177              	HAL_ADC_ConvCpltCallback:
 178              	.LVL13:
 179              	.LFB68:
 249:Core/Src/main.c **** 
 250:Core/Src/main.c **** void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef* hadc){
 180              		.loc 1 250 55 is_stmt 1 view -0
 181              		.cfi_startproc
 182              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 9


 183              		@ frame_needed = 0, uses_anonymous_args = 0
 184              		.loc 1 250 55 is_stmt 0 view .LVU34
 185 0000 38B5     		push	{r3, r4, r5, lr}
 186              		.cfi_def_cfa_offset 16
 187              		.cfi_offset 3, -16
 188              		.cfi_offset 4, -12
 189              		.cfi_offset 5, -8
 190              		.cfi_offset 14, -4
 251:Core/Src/main.c ****   current[0] = (float)((int16_t)adc[0] - CS_ADC_M1_Offset) * CS_ADC_M1_Gain;
 191              		.loc 1 251 3 is_stmt 1 view .LVU35
 192              		.loc 1 251 36 is_stmt 0 view .LVU36
 193 0002 0E4D     		ldr	r5, .L11
 194 0004 2B88     		ldrh	r3, [r5]
 195              		.loc 1 251 24 view .LVU37
 196 0006 1BB2     		sxth	r3, r3
 197              		.loc 1 251 40 view .LVU38
 198 0008 0D4A     		ldr	r2, .L11+4
 199 000a B2F90000 		ldrsh	r0, [r2]
 200              	.LVL14:
 201              		.loc 1 251 16 view .LVU39
 202 000e 181A     		subs	r0, r3, r0
 203 0010 FFF7FEFF 		bl	__aeabi_i2f
 204              	.LVL15:
 205              		.loc 1 251 60 view .LVU40
 206 0014 0B4B     		ldr	r3, .L11+8
 207 0016 1968     		ldr	r1, [r3]	@ float
 208 0018 FFF7FEFF 		bl	__aeabi_fmul
 209              	.LVL16:
 210              		.loc 1 251 14 view .LVU41
 211 001c 0A4C     		ldr	r4, .L11+12
 212 001e 2060     		str	r0, [r4]	@ float
 252:Core/Src/main.c ****   current[1] = (float)((int16_t)adc[1] - CS_ADC_M2_Offset) * CS_ADC_M2_Gain;
 213              		.loc 1 252 3 is_stmt 1 view .LVU42
 214              		.loc 1 252 36 is_stmt 0 view .LVU43
 215 0020 6B88     		ldrh	r3, [r5, #2]
 216              		.loc 1 252 24 view .LVU44
 217 0022 1BB2     		sxth	r3, r3
 218              		.loc 1 252 40 view .LVU45
 219 0024 094A     		ldr	r2, .L11+16
 220 0026 B2F90000 		ldrsh	r0, [r2]
 221              		.loc 1 252 16 view .LVU46
 222 002a 181A     		subs	r0, r3, r0
 223 002c FFF7FEFF 		bl	__aeabi_i2f
 224              	.LVL17:
 225              		.loc 1 252 60 view .LVU47
 226 0030 074B     		ldr	r3, .L11+20
 227 0032 1968     		ldr	r1, [r3]	@ float
 228 0034 FFF7FEFF 		bl	__aeabi_fmul
 229              	.LVL18:
 230              		.loc 1 252 14 view .LVU48
 231 0038 6060     		str	r0, [r4, #4]	@ float
 253:Core/Src/main.c **** }
 232              		.loc 1 253 1 view .LVU49
 233 003a 38BD     		pop	{r3, r4, r5, pc}
 234              	.L12:
 235              		.align	2
 236              	.L11:
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 10


 237 003c 00000000 		.word	adc
 238 0040 00000000 		.word	CS_ADC_M1_Offset
 239 0044 00000000 		.word	CS_ADC_M1_Gain
 240 0048 00000000 		.word	current
 241 004c 00000000 		.word	CS_ADC_M2_Offset
 242 0050 00000000 		.word	CS_ADC_M2_Gain
 243              		.cfi_endproc
 244              	.LFE68:
 246              		.section	.text.Error_Handler,"ax",%progbits
 247              		.align	1
 248              		.global	Error_Handler
 249              		.syntax unified
 250              		.thumb
 251              		.thumb_func
 253              	Error_Handler:
 254              	.LFB69:
 254:Core/Src/main.c **** 
 255:Core/Src/main.c **** /* USER CODE END 4 */
 256:Core/Src/main.c **** 
 257:Core/Src/main.c **** /**
 258:Core/Src/main.c ****   * @brief  This function is executed in case of error occurrence.
 259:Core/Src/main.c ****   * @retval None
 260:Core/Src/main.c ****   */
 261:Core/Src/main.c **** void Error_Handler(void)
 262:Core/Src/main.c **** {
 255              		.loc 1 262 1 is_stmt 1 view -0
 256              		.cfi_startproc
 257              		@ Volatile: function does not return.
 258              		@ args = 0, pretend = 0, frame = 0
 259              		@ frame_needed = 0, uses_anonymous_args = 0
 260              		@ link register save eliminated.
 263:Core/Src/main.c ****   /* USER CODE BEGIN Error_Handler_Debug */
 264:Core/Src/main.c ****   /* User can add his own implementation to report the HAL error return state */
 265:Core/Src/main.c ****   __disable_irq();
 261              		.loc 1 265 3 view .LVU51
 262              	.LBB6:
 263              	.LBI6:
 264              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 11


  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 12


  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 13


 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 265              		.loc 2 140 27 view .LVU52
 266              	.LBB7:
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 267              		.loc 2 142 3 view .LVU53
 268              		.syntax unified
 269              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 270 0000 72B6     		cpsid i
 271              	@ 0 "" 2
 272              		.thumb
 273              		.syntax unified
 274              	.L14:
 275              	.LBE7:
 276              	.LBE6:
 266:Core/Src/main.c ****   while (1)
 277              		.loc 1 266 3 view .LVU54
 267:Core/Src/main.c ****   {
 268:Core/Src/main.c ****   }
 278              		.loc 1 268 3 view .LVU55
 266:Core/Src/main.c ****   while (1)
 279              		.loc 1 266 9 view .LVU56
 280 0002 FEE7     		b	.L14
 281              		.cfi_endproc
 282              	.LFE69:
 284              		.section	.text.SystemClock_Config,"ax",%progbits
 285              		.align	1
 286              		.global	SystemClock_Config
 287              		.syntax unified
 288              		.thumb
 289              		.thumb_func
 291              	SystemClock_Config:
 292              	.LFB66:
 181:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 293              		.loc 1 181 1 view -0
 294              		.cfi_startproc
 295              		@ args = 0, pretend = 0, frame = 80
 296              		@ frame_needed = 0, uses_anonymous_args = 0
 297 0000 00B5     		push	{lr}
 298              		.cfi_def_cfa_offset 4
 299              		.cfi_offset 14, -4
 300 0002 95B0     		sub	sp, sp, #84
 301              		.cfi_def_cfa_offset 88
 182:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 302              		.loc 1 182 3 view .LVU58
 182:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 303              		.loc 1 182 22 is_stmt 0 view .LVU59
 304 0004 2822     		movs	r2, #40
 305 0006 0021     		movs	r1, #0
 306 0008 0DEB0200 		add	r0, sp, r2
 307 000c FFF7FEFF 		bl	memset
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 14


 308              	.LVL19:
 183:Core/Src/main.c ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 309              		.loc 1 183 3 is_stmt 1 view .LVU60
 183:Core/Src/main.c ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 310              		.loc 1 183 22 is_stmt 0 view .LVU61
 311 0010 0023     		movs	r3, #0
 312 0012 0593     		str	r3, [sp, #20]
 313 0014 0693     		str	r3, [sp, #24]
 314 0016 0793     		str	r3, [sp, #28]
 315 0018 0893     		str	r3, [sp, #32]
 316 001a 0993     		str	r3, [sp, #36]
 184:Core/Src/main.c **** 
 317              		.loc 1 184 3 is_stmt 1 view .LVU62
 184:Core/Src/main.c **** 
 318              		.loc 1 184 28 is_stmt 0 view .LVU63
 319 001c 0193     		str	r3, [sp, #4]
 320 001e 0293     		str	r3, [sp, #8]
 321 0020 0393     		str	r3, [sp, #12]
 322 0022 0493     		str	r3, [sp, #16]
 189:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 323              		.loc 1 189 3 is_stmt 1 view .LVU64
 189:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 324              		.loc 1 189 36 is_stmt 0 view .LVU65
 325 0024 0923     		movs	r3, #9
 326 0026 0A93     		str	r3, [sp, #40]
 190:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 327              		.loc 1 190 3 is_stmt 1 view .LVU66
 190:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 328              		.loc 1 190 30 is_stmt 0 view .LVU67
 329 0028 4FF48033 		mov	r3, #65536
 330 002c 0B93     		str	r3, [sp, #44]
 191:Core/Src/main.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 331              		.loc 1 191 3 is_stmt 1 view .LVU68
 192:Core/Src/main.c ****   RCC_OscInitStruct.LSIState = RCC_LSI_ON;
 332              		.loc 1 192 3 view .LVU69
 192:Core/Src/main.c ****   RCC_OscInitStruct.LSIState = RCC_LSI_ON;
 333              		.loc 1 192 30 is_stmt 0 view .LVU70
 334 002e 0122     		movs	r2, #1
 335 0030 0E92     		str	r2, [sp, #56]
 193:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 336              		.loc 1 193 3 is_stmt 1 view .LVU71
 193:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 337              		.loc 1 193 30 is_stmt 0 view .LVU72
 338 0032 1092     		str	r2, [sp, #64]
 194:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 339              		.loc 1 194 3 is_stmt 1 view .LVU73
 194:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 340              		.loc 1 194 34 is_stmt 0 view .LVU74
 341 0034 0222     		movs	r2, #2
 342 0036 1192     		str	r2, [sp, #68]
 195:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 343              		.loc 1 195 3 is_stmt 1 view .LVU75
 195:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 344              		.loc 1 195 35 is_stmt 0 view .LVU76
 345 0038 1293     		str	r3, [sp, #72]
 196:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 346              		.loc 1 196 3 is_stmt 1 view .LVU77
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 15


 196:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 347              		.loc 1 196 32 is_stmt 0 view .LVU78
 348 003a 4FF4E013 		mov	r3, #1835008
 349 003e 1393     		str	r3, [sp, #76]
 197:Core/Src/main.c ****   {
 350              		.loc 1 197 3 is_stmt 1 view .LVU79
 197:Core/Src/main.c ****   {
 351              		.loc 1 197 7 is_stmt 0 view .LVU80
 352 0040 0AA8     		add	r0, sp, #40
 353 0042 FFF7FEFF 		bl	HAL_RCC_OscConfig
 354              	.LVL20:
 197:Core/Src/main.c ****   {
 355              		.loc 1 197 6 discriminator 1 view .LVU81
 356 0046 E0B9     		cbnz	r0, .L20
 204:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 357              		.loc 1 204 3 is_stmt 1 view .LVU82
 204:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 358              		.loc 1 204 31 is_stmt 0 view .LVU83
 359 0048 0F23     		movs	r3, #15
 360 004a 0593     		str	r3, [sp, #20]
 206:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 361              		.loc 1 206 3 is_stmt 1 view .LVU84
 206:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 362              		.loc 1 206 34 is_stmt 0 view .LVU85
 363 004c 0221     		movs	r1, #2
 364 004e 0691     		str	r1, [sp, #24]
 207:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 365              		.loc 1 207 3 is_stmt 1 view .LVU86
 207:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 366              		.loc 1 207 35 is_stmt 0 view .LVU87
 367 0050 0023     		movs	r3, #0
 368 0052 0793     		str	r3, [sp, #28]
 208:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 369              		.loc 1 208 3 is_stmt 1 view .LVU88
 208:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 370              		.loc 1 208 36 is_stmt 0 view .LVU89
 371 0054 4FF48062 		mov	r2, #1024
 372 0058 0892     		str	r2, [sp, #32]
 209:Core/Src/main.c **** 
 373              		.loc 1 209 3 is_stmt 1 view .LVU90
 209:Core/Src/main.c **** 
 374              		.loc 1 209 36 is_stmt 0 view .LVU91
 375 005a 0993     		str	r3, [sp, #36]
 211:Core/Src/main.c ****   {
 376              		.loc 1 211 3 is_stmt 1 view .LVU92
 211:Core/Src/main.c ****   {
 377              		.loc 1 211 7 is_stmt 0 view .LVU93
 378 005c 05A8     		add	r0, sp, #20
 379 005e FFF7FEFF 		bl	HAL_RCC_ClockConfig
 380              	.LVL21:
 211:Core/Src/main.c ****   {
 381              		.loc 1 211 6 discriminator 1 view .LVU94
 382 0062 80B9     		cbnz	r0, .L21
 215:Core/Src/main.c ****   PeriphClkInit.RTCClockSelection = RCC_RTCCLKSOURCE_LSI;
 383              		.loc 1 215 3 is_stmt 1 view .LVU95
 215:Core/Src/main.c ****   PeriphClkInit.RTCClockSelection = RCC_RTCCLKSOURCE_LSI;
 384              		.loc 1 215 38 is_stmt 0 view .LVU96
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 16


 385 0064 0323     		movs	r3, #3
 386 0066 0193     		str	r3, [sp, #4]
 216:Core/Src/main.c ****   PeriphClkInit.AdcClockSelection = RCC_ADCPCLK2_DIV6;
 387              		.loc 1 216 3 is_stmt 1 view .LVU97
 216:Core/Src/main.c ****   PeriphClkInit.AdcClockSelection = RCC_ADCPCLK2_DIV6;
 388              		.loc 1 216 35 is_stmt 0 view .LVU98
 389 0068 4FF40073 		mov	r3, #512
 390 006c 0293     		str	r3, [sp, #8]
 217:Core/Src/main.c ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 391              		.loc 1 217 3 is_stmt 1 view .LVU99
 217:Core/Src/main.c ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 392              		.loc 1 217 35 is_stmt 0 view .LVU100
 393 006e 4FF40043 		mov	r3, #32768
 394 0072 0393     		str	r3, [sp, #12]
 218:Core/Src/main.c ****   {
 395              		.loc 1 218 3 is_stmt 1 view .LVU101
 218:Core/Src/main.c ****   {
 396              		.loc 1 218 7 is_stmt 0 view .LVU102
 397 0074 01A8     		add	r0, sp, #4
 398 0076 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 399              	.LVL22:
 218:Core/Src/main.c ****   {
 400              		.loc 1 218 6 discriminator 1 view .LVU103
 401 007a 30B9     		cbnz	r0, .L22
 222:Core/Src/main.c **** 
 402              		.loc 1 222 1 view .LVU104
 403 007c 15B0     		add	sp, sp, #84
 404              		.cfi_remember_state
 405              		.cfi_def_cfa_offset 4
 406              		@ sp needed
 407 007e 5DF804FB 		ldr	pc, [sp], #4
 408              	.L20:
 409              		.cfi_restore_state
 199:Core/Src/main.c ****   }
 410              		.loc 1 199 5 is_stmt 1 view .LVU105
 411 0082 FFF7FEFF 		bl	Error_Handler
 412              	.LVL23:
 413              	.L21:
 213:Core/Src/main.c ****   }
 414              		.loc 1 213 5 view .LVU106
 415 0086 FFF7FEFF 		bl	Error_Handler
 416              	.LVL24:
 417              	.L22:
 220:Core/Src/main.c ****   }
 418              		.loc 1 220 5 view .LVU107
 419 008a FFF7FEFF 		bl	Error_Handler
 420              	.LVL25:
 421              		.cfi_endproc
 422              	.LFE66:
 424              		.section	.text.main,"ax",%progbits
 425              		.align	1
 426              		.global	main
 427              		.syntax unified
 428              		.thumb
 429              		.thumb_func
 431              	main:
 432              	.LFB65:
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 17


  87:Core/Src/main.c **** 
 433              		.loc 1 87 1 view -0
 434              		.cfi_startproc
 435              		@ Volatile: function does not return.
 436              		@ args = 0, pretend = 0, frame = 0
 437              		@ frame_needed = 0, uses_anonymous_args = 0
 438 0000 80B5     		push	{r7, lr}
 439              		.cfi_def_cfa_offset 8
 440              		.cfi_offset 7, -8
 441              		.cfi_offset 14, -4
  96:Core/Src/main.c **** 
 442              		.loc 1 96 3 view .LVU109
 443 0002 FFF7FEFF 		bl	HAL_Init
 444              	.LVL26:
 103:Core/Src/main.c **** 
 445              		.loc 1 103 3 view .LVU110
 446 0006 FFF7FEFF 		bl	SystemClock_Config
 447              	.LVL27:
 110:Core/Src/main.c ****   MX_DMA_Init();
 448              		.loc 1 110 3 view .LVU111
 449 000a FFF7FEFF 		bl	MX_GPIO_Init
 450              	.LVL28:
 111:Core/Src/main.c ****   MX_ADC1_Init();
 451              		.loc 1 111 3 view .LVU112
 452 000e FFF7FEFF 		bl	MX_DMA_Init
 453              	.LVL29:
 112:Core/Src/main.c ****   MX_SPI1_Init();
 454              		.loc 1 112 3 view .LVU113
 455 0012 FFF7FEFF 		bl	MX_ADC1_Init
 456              	.LVL30:
 113:Core/Src/main.c ****   MX_TIM1_Init();
 457              		.loc 1 113 3 view .LVU114
 458 0016 FFF7FEFF 		bl	MX_SPI1_Init
 459              	.LVL31:
 114:Core/Src/main.c ****   MX_TIM2_Init();
 460              		.loc 1 114 3 view .LVU115
 461 001a FFF7FEFF 		bl	MX_TIM1_Init
 462              	.LVL32:
 115:Core/Src/main.c ****   MX_TIM3_Init();
 463              		.loc 1 115 3 view .LVU116
 464 001e FFF7FEFF 		bl	MX_TIM2_Init
 465              	.LVL33:
 116:Core/Src/main.c ****   MX_TIM4_Init();
 466              		.loc 1 116 3 view .LVU117
 467 0022 FFF7FEFF 		bl	MX_TIM3_Init
 468              	.LVL34:
 117:Core/Src/main.c ****   MX_USART1_UART_Init();
 469              		.loc 1 117 3 view .LVU118
 470 0026 FFF7FEFF 		bl	MX_TIM4_Init
 471              	.LVL35:
 118:Core/Src/main.c ****   MX_RTC_Init();
 472              		.loc 1 118 3 view .LVU119
 473 002a FFF7FEFF 		bl	MX_USART1_UART_Init
 474              	.LVL36:
 119:Core/Src/main.c ****   /* USER CODE BEGIN 2 */
 475              		.loc 1 119 3 view .LVU120
 476 002e FFF7FEFF 		bl	MX_RTC_Init
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 18


 477              	.LVL37:
 124:Core/Src/main.c ****   HAL_GPIO_WritePin(SPI1_SS2_GPIO_Port, SPI1_SS2_Pin, GPIO_PIN_SET);
 478              		.loc 1 124 3 view .LVU121
 479 0032 0122     		movs	r2, #1
 480 0034 1021     		movs	r1, #16
 481 0036 4448     		ldr	r0, .L26
 482 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
 483              	.LVL38:
 125:Core/Src/main.c ****   HAL_GPIO_WritePin(SPI1_SS3_GPIO_Port, SPI1_SS3_Pin, GPIO_PIN_SET);
 484              		.loc 1 125 3 view .LVU122
 485 003c 434C     		ldr	r4, .L26+4
 486 003e 0122     		movs	r2, #1
 487 0040 1021     		movs	r1, #16
 488 0042 2046     		mov	r0, r4
 489 0044 FFF7FEFF 		bl	HAL_GPIO_WritePin
 490              	.LVL39:
 126:Core/Src/main.c ****   HAL_GPIO_WritePin(SPI1_SS4_GPIO_Port, SPI1_SS4_Pin, GPIO_PIN_SET);
 491              		.loc 1 126 3 view .LVU123
 492 0048 0122     		movs	r2, #1
 493 004a 2021     		movs	r1, #32
 494 004c 2046     		mov	r0, r4
 495 004e FFF7FEFF 		bl	HAL_GPIO_WritePin
 496              	.LVL40:
 127:Core/Src/main.c **** 
 497              		.loc 1 127 3 view .LVU124
 498 0052 3F4E     		ldr	r6, .L26+8
 499 0054 0122     		movs	r2, #1
 500 0056 1146     		mov	r1, r2
 501 0058 3046     		mov	r0, r6
 502 005a FFF7FEFF 		bl	HAL_GPIO_WritePin
 503              	.LVL41:
 129:Core/Src/main.c ****   TIM3->CCR2 = 0;
 504              		.loc 1 129 3 view .LVU125
 129:Core/Src/main.c ****   TIM3->CCR2 = 0;
 505              		.loc 1 129 14 is_stmt 0 view .LVU126
 506 005e 3D4B     		ldr	r3, .L26+12
 507 0060 0021     		movs	r1, #0
 508 0062 5963     		str	r1, [r3, #52]
 130:Core/Src/main.c ****   HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_1);
 509              		.loc 1 130 3 is_stmt 1 view .LVU127
 130:Core/Src/main.c ****   HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_1);
 510              		.loc 1 130 14 is_stmt 0 view .LVU128
 511 0064 9963     		str	r1, [r3, #56]
 131:Core/Src/main.c ****   HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_2);
 512              		.loc 1 131 3 is_stmt 1 view .LVU129
 513 0066 3C4D     		ldr	r5, .L26+16
 514 0068 2846     		mov	r0, r5
 515 006a FFF7FEFF 		bl	HAL_TIM_PWM_Start
 516              	.LVL42:
 132:Core/Src/main.c ****   HAL_TIM_Base_Start_IT(&htim3);
 517              		.loc 1 132 3 view .LVU130
 518 006e 0421     		movs	r1, #4
 519 0070 2846     		mov	r0, r5
 520 0072 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 521              	.LVL43:
 133:Core/Src/main.c **** 
 522              		.loc 1 133 3 view .LVU131
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 19


 523 0076 2846     		mov	r0, r5
 524 0078 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 525              	.LVL44:
 135:Core/Src/main.c ****   
 526              		.loc 1 135 3 view .LVU132
 527 007c 0222     		movs	r2, #2
 528 007e 3749     		ldr	r1, .L26+20
 529 0080 3748     		ldr	r0, .L26+24
 530 0082 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 531              	.LVL45:
 137:Core/Src/main.c ****   HAL_GPIO_WritePin(BRIDGESLEEP1_GPIO_Port, BRIDGESLEEP1_Pin, GPIO_PIN_SET);
 532              		.loc 1 137 3 view .LVU133
 533 0086 0120     		movs	r0, #1
 534 0088 FFF7FEFF 		bl	HAL_Delay
 535              	.LVL46:
 138:Core/Src/main.c ****   HAL_GPIO_WritePin(BRIDGESLEEP2_GPIO_Port, BRIDGESLEEP2_Pin, GPIO_PIN_SET);
 536              		.loc 1 138 3 view .LVU134
 537 008c 0122     		movs	r2, #1
 538 008e 0421     		movs	r1, #4
 539 0090 2046     		mov	r0, r4
 540 0092 FFF7FEFF 		bl	HAL_GPIO_WritePin
 541              	.LVL47:
 139:Core/Src/main.c ****   HAL_Delay(1);
 542              		.loc 1 139 3 view .LVU135
 543 0096 0122     		movs	r2, #1
 544 0098 4FF40051 		mov	r1, #8192
 545 009c 3046     		mov	r0, r6
 546 009e FFF7FEFF 		bl	HAL_GPIO_WritePin
 547              	.LVL48:
 140:Core/Src/main.c ****   
 548              		.loc 1 140 3 view .LVU136
 549 00a2 0120     		movs	r0, #1
 550 00a4 FFF7FEFF 		bl	HAL_Delay
 551              	.LVL49:
 142:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv2, DRV8106_IC_CTRL, DRV8106_CLR_FLT);
 552              		.loc 1 142 3 view .LVU137
 553 00a8 2E4D     		ldr	r5, .L26+28
 554 00aa 0122     		movs	r2, #1
 555 00ac 0421     		movs	r1, #4
 556 00ae 2846     		mov	r0, r5
 557 00b0 FFF7FEFF 		bl	drv8106_write_reg_blocking
 558              	.LVL50:
 143:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv3, DRV8106_IC_CTRL, DRV8106_CLR_FLT);
 559              		.loc 1 143 3 view .LVU138
 560 00b4 DFF8B080 		ldr	r8, .L26+32
 561 00b8 0122     		movs	r2, #1
 562 00ba 0421     		movs	r1, #4
 563 00bc 4046     		mov	r0, r8
 564 00be FFF7FEFF 		bl	drv8106_write_reg_blocking
 565              	.LVL51:
 144:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv4, DRV8106_IC_CTRL, DRV8106_CLR_FLT);
 566              		.loc 1 144 3 view .LVU139
 567 00c2 2A4C     		ldr	r4, .L26+36
 568 00c4 0122     		movs	r2, #1
 569 00c6 0421     		movs	r1, #4
 570 00c8 2046     		mov	r0, r4
 571 00ca FFF7FEFF 		bl	drv8106_write_reg_blocking
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 20


 572              	.LVL52:
 145:Core/Src/main.c **** 
 573              		.loc 1 145 3 view .LVU140
 574 00ce 284F     		ldr	r7, .L26+40
 575 00d0 0122     		movs	r2, #1
 576 00d2 0421     		movs	r1, #4
 577 00d4 3846     		mov	r0, r7
 578 00d6 FFF7FEFF 		bl	drv8106_write_reg_blocking
 579              	.LVL53:
 147:Core/Src/main.c ****   HAL_GPIO_WritePin(HIZ2_GPIO_Port, HIZ2_Pin, GPIO_PIN_SET);
 580              		.loc 1 147 3 view .LVU141
 581 00da 0122     		movs	r2, #1
 582 00dc 0421     		movs	r1, #4
 583 00de 3046     		mov	r0, r6
 584 00e0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 585              	.LVL54:
 148:Core/Src/main.c **** 
 586              		.loc 1 148 3 view .LVU142
 587 00e4 0122     		movs	r2, #1
 588 00e6 4FF40061 		mov	r1, #2048
 589 00ea 3046     		mov	r0, r6
 590 00ec FFF7FEFF 		bl	HAL_GPIO_WritePin
 591              	.LVL55:
 150:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv2, DRV8106_IC_CTRL, DRV8106_EN_DRV);
 592              		.loc 1 150 3 view .LVU143
 593 00f0 8022     		movs	r2, #128
 594 00f2 0421     		movs	r1, #4
 595 00f4 2846     		mov	r0, r5
 596 00f6 FFF7FEFF 		bl	drv8106_write_reg_blocking
 597              	.LVL56:
 151:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv3, DRV8106_IC_CTRL, DRV8106_EN_DRV);
 598              		.loc 1 151 3 view .LVU144
 599 00fa 8022     		movs	r2, #128
 600 00fc 0421     		movs	r1, #4
 601 00fe 4046     		mov	r0, r8
 602 0100 FFF7FEFF 		bl	drv8106_write_reg_blocking
 603              	.LVL57:
 152:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv4, DRV8106_IC_CTRL, DRV8106_EN_DRV);
 604              		.loc 1 152 3 view .LVU145
 605 0104 8022     		movs	r2, #128
 606 0106 0421     		movs	r1, #4
 607 0108 2046     		mov	r0, r4
 608 010a FFF7FEFF 		bl	drv8106_write_reg_blocking
 609              	.LVL58:
 153:Core/Src/main.c **** 
 610              		.loc 1 153 3 view .LVU146
 611 010e 8022     		movs	r2, #128
 612 0110 0421     		movs	r1, #4
 613 0112 3846     		mov	r0, r7
 614 0114 FFF7FEFF 		bl	drv8106_write_reg_blocking
 615              	.LVL59:
 155:Core/Src/main.c ****   drv8106_write_reg_blocking(&drv3, DRV8106_CSA_CTRL, DRV8106_CSA_SH_EN | DRV8106_CSA_GAIN_10);
 616              		.loc 1 155 3 view .LVU147
 617 0118 8022     		movs	r2, #128
 618 011a 0D21     		movs	r1, #13
 619 011c 2846     		mov	r0, r5
 620 011e FFF7FEFF 		bl	drv8106_write_reg_blocking
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 21


 621              	.LVL60:
 156:Core/Src/main.c **** 
 622              		.loc 1 156 3 view .LVU148
 623 0122 8022     		movs	r2, #128
 624 0124 0D21     		movs	r1, #13
 625 0126 2046     		mov	r0, r4
 626 0128 FFF7FEFF 		bl	drv8106_write_reg_blocking
 627              	.LVL61:
 158:Core/Src/main.c ****   drv8106_read_all_blocking(&drv2);
 628              		.loc 1 158 3 view .LVU149
 629 012c 2846     		mov	r0, r5
 630 012e FFF7FEFF 		bl	drv8106_read_all_blocking
 631              	.LVL62:
 159:Core/Src/main.c ****   drv8106_read_all_blocking(&drv3);
 632              		.loc 1 159 3 view .LVU150
 633 0132 4046     		mov	r0, r8
 634 0134 FFF7FEFF 		bl	drv8106_read_all_blocking
 635              	.LVL63:
 160:Core/Src/main.c ****   drv8106_read_all_blocking(&drv4);
 636              		.loc 1 160 3 view .LVU151
 637 0138 2046     		mov	r0, r4
 638 013a FFF7FEFF 		bl	drv8106_read_all_blocking
 639              	.LVL64:
 161:Core/Src/main.c **** 
 640              		.loc 1 161 3 view .LVU152
 641 013e 3846     		mov	r0, r7
 642 0140 FFF7FEFF 		bl	drv8106_read_all_blocking
 643              	.LVL65:
 644              	.L24:
 167:Core/Src/main.c ****   {
 645              		.loc 1 167 3 view .LVU153
 172:Core/Src/main.c ****   /* USER CODE END 3 */
 646              		.loc 1 172 3 view .LVU154
 167:Core/Src/main.c ****   {
 647              		.loc 1 167 9 view .LVU155
 648 0144 FEE7     		b	.L24
 649              	.L27:
 650 0146 00BF     		.align	2
 651              	.L26:
 652 0148 00080140 		.word	1073809408
 653 014c 00100140 		.word	1073811456
 654 0150 000C0140 		.word	1073810432
 655 0154 00040040 		.word	1073742848
 656 0158 00000000 		.word	htim3
 657 015c 00000000 		.word	adc
 658 0160 00000000 		.word	hadc1
 659 0164 00000000 		.word	drv1
 660 0168 00000000 		.word	drv2
 661 016c 00000000 		.word	drv3
 662 0170 00000000 		.word	drv4
 663              		.cfi_endproc
 664              	.LFE65:
 666              		.section	.bss.cntr.0,"aw",%nobits
 667              		.align	1
 670              	cntr.0:
 671 0000 0000     		.space	2
 672              		.global	drv4
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 22


 673              		.section	.data.drv4,"aw"
 674              		.align	2
 677              	drv4:
 678 0000 00000000 		.word	hspi1
 679 0004 000C0140 		.word	1073810432
 680 0008 0100     		.short	1
 681 000a 0000     		.short	0
 682 000c 00000000 		.space	16
 682      00000000 
 682      00000000 
 682      00000000 
 683              		.global	drv3
 684              		.section	.data.drv3,"aw"
 685              		.align	2
 688              	drv3:
 689 0000 00000000 		.word	hspi1
 690 0004 00100140 		.word	1073811456
 691 0008 2000     		.short	32
 692 000a 0000     		.short	0
 693 000c 00000000 		.space	16
 693      00000000 
 693      00000000 
 693      00000000 
 694              		.global	drv2
 695              		.section	.data.drv2,"aw"
 696              		.align	2
 699              	drv2:
 700 0000 00000000 		.word	hspi1
 701 0004 00100140 		.word	1073811456
 702 0008 1000     		.short	16
 703 000a 0000     		.short	0
 704 000c 00000000 		.space	16
 704      00000000 
 704      00000000 
 704      00000000 
 705              		.global	drv1
 706              		.section	.data.drv1,"aw"
 707              		.align	2
 710              	drv1:
 711 0000 00000000 		.word	hspi1
 712 0004 00080140 		.word	1073809408
 713 0008 1000     		.short	16
 714 000a 0000     		.short	0
 715 000c 00000000 		.space	16
 715      00000000 
 715      00000000 
 715      00000000 
 716              		.global	fault4
 717              		.section	.bss.fault4,"aw",%nobits
 720              	fault4:
 721 0000 00       		.space	1
 722              		.global	fault3
 723              		.section	.bss.fault3,"aw",%nobits
 726              	fault3:
 727 0000 00       		.space	1
 728              		.global	fault2
 729              		.section	.bss.fault2,"aw",%nobits
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 23


 732              	fault2:
 733 0000 00       		.space	1
 734              		.global	fault1
 735              		.section	.bss.fault1,"aw",%nobits
 738              	fault1:
 739 0000 00       		.space	1
 740              		.global	dir2
 741              		.section	.bss.dir2,"aw",%nobits
 742              		.align	1
 745              	dir2:
 746 0000 0000     		.space	2
 747              		.global	dir1
 748              		.section	.bss.dir1,"aw",%nobits
 749              		.align	1
 752              	dir1:
 753 0000 0000     		.space	2
 754              		.global	duty2
 755              		.section	.bss.duty2,"aw",%nobits
 756              		.align	1
 759              	duty2:
 760 0000 0000     		.space	2
 761              		.global	duty1
 762              		.section	.bss.duty1,"aw",%nobits
 763              		.align	1
 766              	duty1:
 767 0000 0000     		.space	2
 768              		.global	current
 769              		.section	.bss.current,"aw",%nobits
 770              		.align	2
 773              	current:
 774 0000 00000000 		.space	8
 774      00000000 
 775              		.global	CS_ADC_M2_Gain
 776              		.section	.data.CS_ADC_M2_Gain,"aw"
 777              		.align	2
 780              	CS_ADC_M2_Gain:
 781 0000 3E3F8C3A 		.word	982269758
 782              		.global	CS_ADC_M1_Gain
 783              		.section	.data.CS_ADC_M1_Gain,"aw"
 784              		.align	2
 787              	CS_ADC_M1_Gain:
 788 0000 3E3F8C3A 		.word	982269758
 789              		.global	CS_ADC_M2_Offset
 790              		.section	.data.CS_ADC_M2_Offset,"aw"
 791              		.align	1
 794              	CS_ADC_M2_Offset:
 795 0000 C607     		.short	1990
 796              		.global	CS_ADC_M1_Offset
 797              		.section	.data.CS_ADC_M1_Offset,"aw"
 798              		.align	1
 801              	CS_ADC_M1_Offset:
 802 0000 C607     		.short	1990
 803              		.global	adc
 804              		.section	.bss.adc,"aw",%nobits
 805              		.align	2
 808              	adc:
 809 0000 00000000 		.space	4
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 24


 810              		.text
 811              	.Letext0:
 812              		.file 3 "C:/Users/zhmis/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 813              		.file 4 "C:/Users/zhmis/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-to
 814              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 815              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 816              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 817              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc.h"
 818              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc_ex.h"
 819              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 820              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 821              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_adc.h"
 822              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_spi.h"
 823              		.file 14 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 824              		.file 15 "Core/Inc/adc.h"
 825              		.file 16 "Core/Inc/spi.h"
 826              		.file 17 "Core/Inc/tim.h"
 827              		.file 18 "Core/Inc/drv8106.h"
 828              		.file 19 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 829              		.file 20 "Core/Inc/rtc.h"
 830              		.file 21 "Core/Inc/usart.h"
 831              		.file 22 "Core/Inc/dma.h"
 832              		.file 23 "Core/Inc/gpio.h"
 833              		.file 24 "<built-in>"
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 25


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:19     .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:25     .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:150    .text.HAL_TIM_PeriodElapsedCallback:0000008c $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:670    .bss.cntr.0:00000000 cntr.0
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:738    .bss.fault1:00000000 fault1
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:732    .bss.fault2:00000000 fault2
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:726    .bss.fault3:00000000 fault3
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:720    .bss.fault4:00000000 fault4
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:766    .bss.duty1:00000000 duty1
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:759    .bss.duty2:00000000 duty2
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:752    .bss.dir1:00000000 dir1
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:745    .bss.dir2:00000000 dir2
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:171    .text.HAL_ADC_ConvCpltCallback:00000000 $t
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:177    .text.HAL_ADC_ConvCpltCallback:00000000 HAL_ADC_ConvCpltCallback
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:237    .text.HAL_ADC_ConvCpltCallback:0000003c $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:808    .bss.adc:00000000 adc
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:801    .data.CS_ADC_M1_Offset:00000000 CS_ADC_M1_Offset
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:787    .data.CS_ADC_M1_Gain:00000000 CS_ADC_M1_Gain
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:773    .bss.current:00000000 current
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:794    .data.CS_ADC_M2_Offset:00000000 CS_ADC_M2_Offset
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:780    .data.CS_ADC_M2_Gain:00000000 CS_ADC_M2_Gain
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:247    .text.Error_Handler:00000000 $t
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:253    .text.Error_Handler:00000000 Error_Handler
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:285    .text.SystemClock_Config:00000000 $t
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:291    .text.SystemClock_Config:00000000 SystemClock_Config
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:425    .text.main:00000000 $t
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:431    .text.main:00000000 main
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:652    .text.main:00000148 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:710    .data.drv1:00000000 drv1
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:699    .data.drv2:00000000 drv2
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:688    .data.drv3:00000000 drv3
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:677    .data.drv4:00000000 drv4
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:667    .bss.cntr.0:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:674    .data.drv4:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:685    .data.drv3:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:696    .data.drv2:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:707    .data.drv1:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:721    .bss.fault4:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:727    .bss.fault3:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:733    .bss.fault2:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:739    .bss.fault1:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:742    .bss.dir2:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:749    .bss.dir1:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:756    .bss.duty2:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:763    .bss.duty1:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:770    .bss.current:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:777    .data.CS_ADC_M2_Gain:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:784    .data.CS_ADC_M1_Gain:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:791    .data.CS_ADC_M2_Offset:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:798    .data.CS_ADC_M1_Offset:00000000 $d
C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s:805    .bss.adc:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_ReadPin
HAL_GPIO_WritePin
ARM GAS  C:\Users\zhmis\AppData\Local\Temp\ccq56yJm.s 			page 26


HAL_GPIO_TogglePin
htim3
__aeabi_i2f
__aeabi_fmul
memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
HAL_Init
MX_GPIO_Init
MX_DMA_Init
MX_ADC1_Init
MX_SPI1_Init
MX_TIM1_Init
MX_TIM2_Init
MX_TIM3_Init
MX_TIM4_Init
MX_USART1_UART_Init
MX_RTC_Init
HAL_TIM_PWM_Start
HAL_TIM_Base_Start_IT
HAL_ADC_Start_DMA
HAL_Delay
drv8106_write_reg_blocking
drv8106_read_all_blocking
hadc1
hspi1
